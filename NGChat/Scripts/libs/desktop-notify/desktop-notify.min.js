(function(n){function w(t,i){var r;return n.Notification?r=new n.Notification(t,{icon:u(i.icon)?i.icon:i.icon.x32,body:i.body||s,tag:i.tag||s}):n.webkitNotifications?(r=n.webkitNotifications.createNotification(i.icon,t,i.body),r.show()):navigator.mozNotification?(r=navigator.mozNotification.createNotification(t,i.body,i.icon),r.show()):n.external&&n.external.msIsSiteMode()&&(n.external.msSiteModeClearIconOverlay(),n.external.msSiteModeSetIconOverlay(u(i.icon)?i.icon:i.icon.x16,t),n.external.msSiteModeActivate(),r={ieVerification:h+1}),r}function b(t){return{close:function(){t&&(t.close?t.close():n.external&&n.external.msIsSiteMode()&&t.ieVerification===h&&n.external.msSiteModeClearIconOverlay())}}}function k(t){if(r){var i=c(t)?t:p;n.webkitNotifications&&n.webkitNotifications.checkPermission?n.webkitNotifications.requestPermission(i):n.Notification&&n.Notification.requestPermission&&n.Notification.requestPermission(i)}}function a(){var i;if(r)return n.Notification&&n.Notification.permissionLevel?i=n.Notification.permissionLevel():n.webkitNotifications&&n.webkitNotifications.checkPermission?i=v[n.webkitNotifications.checkPermission()]:navigator.mozNotification?i=t:n.Notification&&n.Notification.permission?i=n.Notification.permission:n.external&&n.external.msIsSiteMode()&&(i=t),i}function d(n){return n&&l(n)&&y(i,n),i}function g(){return i.pageVisibility?document.hidden||document.msHidden||document.mozHidden||document.webkitHidden:!0}function nt(f,e){var o,s;return r&&g()&&u(f)&&e&&(u(e.icon)||l(e.icon))&&a()===t&&(o=w(f,e),e.onClick&&(o.onclick=e.onClick),e.onDisplay&&(o.ondisplay=e.onDisplay),e.onClose&&(o.onclose=e.onClose)),s=b(o),i.autoClose&&o&&!o.ieVerification&&o.addEventListener&&o.addEventListener("show",function(){var t=s;n.setTimeout(function(){t.close()},i.autoClose)}),s}var f="default",t="granted",e="denied",v=[t,f,e],o={},s="",r=function(){var t=!1;try{t=!!(n.Notification||n.webkitNotifications||navigator.mozNotification||n.external&&n.external.msIsSiteMode()!==undefined)}catch(i){}return t}(),h=Math.floor(Math.random()*10+1),c=function(n){return n&&n.constructor===Function},u=function(n){return n&&n.constructor===String},l=function(n){return n&&n.constructor===Object},y=function(n,t){var i,r;for(i in t)r=t[i],i in n&&(n[i]===r||i in o&&o[i]===r)||(n[i]=r);return n},p=function(){},i={pageVisibility:!1,autoClose:0};n.notify={PERMISSION_DEFAULT:f,PERMISSION_GRANTED:t,PERMISSION_DENIED:e,isSupported:r,config:d,createNotification:nt,permissionLevel:a,requestPermission:k},c(Object.freeze)&&Object.freeze(n.notify)})(window);
//@ sourceMappingURL=desktop-notify.min.js.map